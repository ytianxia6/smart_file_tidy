# ä¿®å¤å¯è§†åŒ–æŒ‡å— ğŸ“Š

## é—®é¢˜ 1: Interactive æ¨¡å¼ä¿®å¤

### ä¿®å¤å‰ âŒ

```mermaid
graph LR
    User[ç”¨æˆ·è¾“å…¥éœ€æ±‚] --> Interactive[interactiveå‘½ä»¤]
    Interactive --> OldAdapter[æ—§AI Adapter]
    OldAdapter --> GeneratePlan[generate_plan]
    GeneratePlan --> EmptyOps[è¿”å›ç©ºæ“ä½œåˆ—è¡¨]
    EmptyOps --> NoAction[âŒ æ²¡æœ‰éœ€è¦æ‰§è¡Œçš„æ“ä½œ]
```

### ä¿®å¤å âœ…

```mermaid
graph LR
    User[ç”¨æˆ·è¾“å…¥éœ€æ±‚] --> Interactive[interactiveå‘½ä»¤]
    Interactive --> AgentMode[LangChain Agent]
    AgentMode --> OrganizeAgent[organize_with_agent]
    OrganizeAgent --> ExecuteTools[æ‰§è¡Œå·¥å…·è°ƒç”¨]
    ExecuteTools --> MoveFiles[âœ… ç§»åŠ¨æ–‡ä»¶]
    MoveFiles --> ShowReport[âœ… æ˜¾ç¤ºæŠ¥å‘Š]
```

---

## é—®é¢˜ 2: ä»»åŠ¡è¯†åˆ«ä¿®å¤

### ä¿®å¤å‰ âŒ

```mermaid
graph TD
    Start[ç”¨æˆ·éœ€æ±‚] --> Check1{åŒ…å«è®ºæ–‡å…³é”®è¯?}
    Check1 -->|æ˜¯| PaperTask[âœ… è®ºæ–‡ä»»åŠ¡]
    Check1 -->|å¦| Check2{åŒ…å«æ•´ç†å…³é”®è¯?}
    Check2 -->|æ˜¯| PaperTask
    Check2 -->|å¦| Default[âœ… è®ºæ–‡ä»»åŠ¡é»˜è®¤]
    
    style PaperTask fill:#90EE90
    style Default fill:#FFB6C1
    
    Note[âŒ é—®é¢˜: æ‰€æœ‰æƒ…å†µéƒ½è¯†åˆ«ä¸ºè®ºæ–‡ä»»åŠ¡]
```

### ä¿®å¤å âœ…

```mermaid
graph TD
    Start[ç”¨æˆ·éœ€æ±‚] --> Check0{æ˜¯å¦ä¸ºç©º?}
    Check0 -->|æ˜¯| PaperTask[âœ… è®ºæ–‡ä»»åŠ¡]
    Check0 -->|å¦| Check1{åŒ…å«è®ºæ–‡å…³é”®è¯?}
    Check1 -->|æ˜¯| PaperTask
    Check1 -->|å¦| Check2{åŒ…å«å…·ä½“æ“ä½œ?}
    Check2 -->|æ˜¯| NonPaperTask[âŒ éè®ºæ–‡ä»»åŠ¡]
    Check2 -->|å¦| Check3{é€šç”¨æ•´ç†?}
    Check3 -->|æ˜¯| PaperTask
    Check3 -->|å¦| NonPaperTask
    
    style PaperTask fill:#90EE90
    style NonPaperTask fill:#87CEEB
    
    Note[âœ… æ™ºèƒ½è¯†åˆ«: æ ¹æ®éœ€æ±‚é€‰æ‹©æ¨¡å¼]
```

---

## æ‰§è¡Œæµç¨‹å¯¹æ¯”

### è®ºæ–‡ä»»åŠ¡æµç¨‹ ğŸ“š

```mermaid
sequenceDiagram
    participant User as ç”¨æˆ·
    participant Agent as Agent
    participant Scanner as file_scanner
    participant Analyzer as file_analyzer
    participant Operator as file_operator
    
    User->>Agent: "æ•´ç†è®ºæ–‡"
    Agent->>Scanner: æ‰«æç›®å½•
    Scanner-->>Agent: è¿”å›æ–‡ä»¶åˆ—è¡¨
    
    loop æ¯ä¸ªPDFæ–‡ä»¶
        Agent->>Analyzer: åˆ†ææ–‡ä»¶(check_if_paper=true)
        Analyzer-->>Agent: è¿”å›è®ºæ–‡è¯†åˆ«ç»“æœ
    end
    
    Agent->>Operator: åˆ›å»ºPapersæ–‡ä»¶å¤¹
    Operator-->>Agent: âœ… åˆ›å»ºæˆåŠŸ
    
    loop æ¯ä¸ªè®ºæ–‡
        Agent->>Operator: ç§»åŠ¨è®ºæ–‡åˆ°Papers
        Operator-->>Agent: âœ… ç§»åŠ¨æˆåŠŸ
    end
    
    Agent-->>User: âœ… å®ŒæˆæŠ¥å‘Š
```

### éè®ºæ–‡ä»»åŠ¡æµç¨‹ ğŸ“

```mermaid
sequenceDiagram
    participant User as ç”¨æˆ·
    participant Agent as Agent
    participant Scanner as file_scanner
    participant Operator as file_operator
    
    User->>Agent: "ç§»åŠ¨å›¾ç‰‡åˆ°Pictures"
    Agent->>Scanner: æ‰«æç›®å½•
    Scanner-->>Agent: è¿”å›æ–‡ä»¶åˆ—è¡¨
    
    Note over Agent: ä¸åˆ†æè®ºæ–‡ï¼Œç›´æ¥æ“ä½œ
    
    Agent->>Operator: åˆ›å»ºPicturesæ–‡ä»¶å¤¹
    Operator-->>Agent: âœ… åˆ›å»ºæˆåŠŸ
    
    loop æ¯ä¸ªå›¾ç‰‡æ–‡ä»¶
        Agent->>Operator: ç§»åŠ¨å›¾ç‰‡åˆ°Pictures
        Operator-->>Agent: âœ… ç§»åŠ¨æˆåŠŸ
    end
    
    Agent-->>User: âœ… å®ŒæˆæŠ¥å‘Š
```

---

## å…³é”®è¯è¯†åˆ«çŸ©é˜µ

### è®ºæ–‡ä»»åŠ¡å…³é”®è¯ âœ…

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   è®ºæ–‡ä»»åŠ¡è§¦å‘è¯                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ è®ºæ–‡ / paper                      â”‚
â”‚ â€¢ å­¦æœ¯ / academic                   â”‚
â”‚ â€¢ æ–‡çŒ® / literature                 â”‚
â”‚ â€¢ ç ”ç©¶ / research                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   é»˜è®¤è§¦å‘ï¼ˆæ— å…·ä½“æ“ä½œæ—¶ï¼‰           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ æ•´ç† / organize                   â”‚
â”‚ â€¢ åˆ†ç±» / classify                   â”‚
â”‚ â€¢ ç»„ç»‡ / tidy                       â”‚
â”‚ â€¢ ï¼ˆç©ºéœ€æ±‚ï¼‰                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### éè®ºæ–‡ä»»åŠ¡å…³é”®è¯ âŒ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   éè®ºæ–‡ä»»åŠ¡è§¦å‘è¯                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ æ“ä½œç±»                              â”‚
â”‚ â€¢ ç§»åŠ¨ / move                       â”‚
â”‚ â€¢ å¤åˆ¶ / copy                       â”‚
â”‚ â€¢ å‹ç¼© / zip                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ æ–‡ä»¶ç±»å‹                            â”‚
â”‚ â€¢ å›¾ç‰‡ / image / photo              â”‚
â”‚ â€¢ è§†é¢‘ / video                      â”‚
â”‚ â€¢ éŸ³ä¹ / music / audio              â”‚
â”‚ â€¢ ä»£ç  / code                       â”‚
â”‚ â€¢ æ–‡æ¡£ / documents                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ä¸‰ç§æ¨¡å¼å¯¹æ¯”è¡¨

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ç‰¹æ€§   â”‚   agent     â”‚ interactive  â”‚  organize   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   åç«¯   â”‚ Agent âš¡    â”‚ Agent âš¡     â”‚ Adapter ğŸ›¡ï¸ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ æ‰§è¡Œæ–¹å¼ â”‚ è‡ªåŠ¨æ‰§è¡Œ    â”‚ è‡ªåŠ¨æ‰§è¡Œ     â”‚ éœ€è¦ç¡®è®¤    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ äº¤äº’æ¬¡æ•° â”‚ å•æ¬¡        â”‚ å¤šè½®å¾ªç¯     â”‚ å•æ¬¡        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ä»»åŠ¡è¯†åˆ« â”‚ âœ… æ™ºèƒ½     â”‚ âœ… æ™ºèƒ½      â”‚ âŒ æ—        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ æ“ä½œé¢„è§ˆ â”‚ âŒ æ—        â”‚ âŒ æ—         â”‚ âœ… æœ‰       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ æ¨èåœºæ™¯ â”‚ ä¸€æ¬¡æ€§ä»»åŠ¡  â”‚ æ¢ç´¢æ€§æ•´ç†   â”‚ è°¨æ…æ¨¡å¼    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

å›¾ä¾‹ï¼šâš¡ LangChain Agent  ğŸ›¡ï¸ ä¼ ç»Ÿ AI Adapter
```

---

## ç”¨æˆ·éœ€æ±‚ç¤ºä¾‹

### âœ… ä¼šè¯†åˆ«ä¸ºè®ºæ–‡ä»»åŠ¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ "æ•´ç†è®ºæ–‡"                               â”‚
â”‚ "æ•´ç†è¿™äº›å­¦æœ¯æ–‡çŒ®"                       â”‚
â”‚ "organize papers"                        â”‚
â”‚ "æ•´ç†è¿™äº›æ–‡ä»¶"      â† é»˜è®¤è¡Œä¸º           â”‚
â”‚ "åˆ†ç±»"              â† é»˜è®¤è¡Œä¸º           â”‚
â”‚ ï¼ˆç›´æ¥å›è½¦ï¼‰        â† é»˜è®¤è¡Œä¸º           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“
   ğŸ“š è®ºæ–‡æ•´ç†æ¨¡å¼
         â†“
   è¯†åˆ«è®ºæ–‡ + ç§»åŠ¨åˆ° Papers/
```

### âŒ ä¸ä¼šè¯†åˆ«ä¸ºè®ºæ–‡ä»»åŠ¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ "ç§»åŠ¨å›¾ç‰‡åˆ°Pictures"                     â”‚
â”‚ "æŠŠPDFç§»åŠ¨åˆ°Documents"                   â”‚
â”‚ "å¤åˆ¶æ‰€æœ‰ä»£ç æ–‡ä»¶"                       â”‚
â”‚ "æ•´ç†éŸ³ä¹æ–‡ä»¶"                           â”‚
â”‚ "å‹ç¼©è§†é¢‘"                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“
   ğŸ“ é€šç”¨æ•´ç†æ¨¡å¼
         â†“
   ç›´æ¥æŒ‰éœ€æ±‚æ‰§è¡Œï¼Œä¸è¯†åˆ«è®ºæ–‡
```

---

## æµ‹è¯•æ£€æŸ¥æ¸…å•

### âœ… Interactive æ¨¡å¼ä¿®å¤éªŒè¯

- [ ] è¿è¡Œ `smart-tidy interactive ./test_files`
- [ ] è¾“å…¥éœ€æ±‚åçœ‹åˆ° "Agentæ­£åœ¨å·¥ä½œä¸­..."
- [ ] çœ‹åˆ° "âœ“ å®Œæˆï¼" å’Œ Agent æŠ¥å‘Š
- [ ] æ£€æŸ¥æ–‡ä»¶ç³»ç»Ÿï¼Œæ–‡ä»¶è¢«ç§»åŠ¨
- [ ] ä¸å†çœ‹åˆ° "æ²¡æœ‰éœ€è¦æ‰§è¡Œçš„æ“ä½œ"

### âœ… ä»»åŠ¡è¯†åˆ«ä¿®å¤éªŒè¯

- [ ] è¿è¡Œ `smart-tidy agent ./test_files --request "ç§»åŠ¨å›¾ç‰‡"`
- [ ] ä¸çœ‹åˆ° "ä»»åŠ¡ç±»å‹ï¼šå­¦æœ¯è®ºæ–‡æ•´ç†"
- [ ] ä¸çœ‹åˆ° "è¯†åˆ«è®ºæ–‡" æˆ– "check_if_paper"
- [ ] ç›´æ¥åˆ›å»ºç›®æ ‡æ–‡ä»¶å¤¹å¹¶ç§»åŠ¨æ–‡ä»¶
- [ ] è¿è¡Œ `smart-tidy agent ./test_files --request "æ•´ç†è®ºæ–‡"`
- [ ] çœ‹åˆ° "ä»»åŠ¡ç±»å‹ï¼šå­¦æœ¯è®ºæ–‡æ•´ç†"
- [ ] çœ‹åˆ°è®ºæ–‡è¯†åˆ«æµç¨‹

---

## ä¿®å¤æ—¶é—´çº¿

```
2026-01-26
    â”‚
    â”œâ”€ 10:00  å‘ç° Interactive æ¨¡å¼ä¸æ‰§è¡Œ
    â”‚         åŸå› ï¼šä½¿ç”¨æ—§ AI Adapter
    â”‚
    â”œâ”€ 11:00  ä¿®å¤ Interactive æ¨¡å¼
    â”‚         æ”¹ç”¨ LangChain Agent
    â”‚
    â”œâ”€ 12:00  å‘ç°ä»»åŠ¡è¯†åˆ«è¿‡äºæ¿€è¿›
    â”‚         åŸå› ï¼šé»˜è®¤æ€»æ˜¯è®ºæ–‡ä»»åŠ¡
    â”‚
    â”œâ”€ 13:00  ä¿®å¤ä»»åŠ¡è¯†åˆ«é€»è¾‘
    â”‚         æ·»åŠ å…·ä½“æ“ä½œå…³é”®è¯æ£€æµ‹
    â”‚
    â””â”€ 14:00  âœ… æ‰€æœ‰ä¿®å¤å®Œæˆ
              åˆ›å»ºæ–‡æ¡£å’Œæµ‹è¯•æŒ‡å—
```

---

## å¿«é€Ÿè¯Šæ–­

### å¦‚ä½•åˆ¤æ–­ä¿®å¤æ˜¯å¦æˆåŠŸï¼Ÿ

#### æµ‹è¯• 1: Interactive æ‰§è¡Œ
```bash
uv run smart-tidy interactive ./test_files
```

| çœ‹åˆ°è¿™ä¸ª | çŠ¶æ€ |
|---------|------|
| "æ²¡æœ‰éœ€è¦æ‰§è¡Œçš„æ“ä½œ" | âŒ æœªä¿®å¤ |
| "âœ“ å®Œæˆï¼" + AgentæŠ¥å‘Š | âœ… å·²ä¿®å¤ |

#### æµ‹è¯• 2: ä»»åŠ¡è¯†åˆ«
```bash
uv run smart-tidy agent ./test_files --request "ç§»åŠ¨å›¾ç‰‡"
```

| çœ‹åˆ°è¿™ä¸ª | çŠ¶æ€ |
|---------|------|
| "ä»»åŠ¡ç±»å‹ï¼šå­¦æœ¯è®ºæ–‡æ•´ç†" | âŒ æœªä¿®å¤ |
| "check_if_paper: true" | âŒ æœªä¿®å¤ |
| ç›´æ¥åˆ›å»ºæ–‡ä»¶å¤¹å’Œç§»åŠ¨ | âœ… å·²ä¿®å¤ |

---

**æ‰€æœ‰ä¿®å¤å·²å®Œæˆï¼è¯·æµ‹è¯•éªŒè¯ã€‚** âœ…
